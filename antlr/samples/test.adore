
fragment e1<x,y> {
  variables  {}
  activities { h)  hook() ; }
  relations  { ^ < h; h < $; }
}


fragment e2 {
  variables  {} 
  activities { h)  hook() ; }
  relations  { ^ < h; h < $; }
}


orchestration helloWorld::sayHello {
  variables { 
    name as string; 
    const prefix := 'Hello, ' as string;
    v as record;
  }
  activities {
    a1) name := receive();
    a2) name.toto* := stringConcat(prefix, name.length*);
    a3) reply(name);
  }
  relations { a1 < a2; a2 < a3; }
}


composition helloWorld::sayHello { 
      apply e1(x: 'X', y: 'bar') => {a1,a2} ; 
      apply e2 => a3;
}


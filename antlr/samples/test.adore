fragment e1 {
  variables  {}
  activities { h)  hook() ; }
  relations  { ^ < h; h < $; }
}

fragment e2 {
  variables  {}
  activities { h)  hook() ; }
  relations  { ^ < h; h < $; }
}

orchestration helloWorld::sayHello {
  variables { 
    name as string; 
    const prefix := 'Hello, ' as string;
  }
  activities {
    a1) name := receive();
    a2) name := stringConcat(prefix,name);
    a3) reply(name);
  }
  relations { a1 < a2; a2 < a3; }
}

merge helloWorld::sayHello { 
      apply e1 => a2 ; 
      apply e2 => a2;
}

